<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PHCM9795: Foundations of Biostatistics - 1 An introduction to Stata</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./01.2-intro-R.html" rel="next">
<link href="./01-intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><strong>1</strong> An introduction to Stata</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">PHCM9795: Foundations of Biostatistics</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to statistics and presenting data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.1-intro-stata.html" class="sidebar-item-text sidebar-link active"><strong>1</strong> An introduction to Stata</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.2-intro-R.html" class="sidebar-item-text sidebar-link"><strong>1</strong> An introduction to R and RStudio</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.3-intro-activities.html" class="sidebar-item-text sidebar-link"><strong>1</strong> Learning Activities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-probability.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Probability and probability distributions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02.1-probability-stata.html" class="sidebar-item-text sidebar-link"><strong>2</strong> Stata notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02.2-probability-R.html" class="sidebar-item-text sidebar-link"><strong>2</strong> R notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02.3-probability-activities.html" class="sidebar-item-text sidebar-link"><strong>2</strong> Learning Activities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-precision.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Precision, standard errors and confidence intervals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.1-precision-stata.html" class="sidebar-item-text sidebar-link"><strong>3</strong> Stata notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.2-precision-R.html" class="sidebar-item-text sidebar-link"><strong>3</strong> R notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.3-precision-activities.html" class="sidebar-item-text sidebar-link"><strong>3</strong> Learning Activities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-hypothesis-testing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Hypothesis testing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.1-hypothesis-testing-stata.html" class="sidebar-item-text sidebar-link"><strong>4</strong> Stata notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.2-hypothesis-testing-R.html" class="sidebar-item-text sidebar-link"><strong>4</strong> R notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.3-hypothesis-testing-activities.html" class="sidebar-item-text sidebar-link"><strong>4</strong> Learning Activities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-comparing-two-means.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Comparing the means of two groups</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05.1-comparing-two-means-stata.html" class="sidebar-item-text sidebar-link"><strong>5</strong> Stata notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05.2-comparing-two-means-R.html" class="sidebar-item-text sidebar-link"><strong>5</strong> R notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05.3-comparing-two-means-activities.html" class="sidebar-item-text sidebar-link"><strong>5</strong> Learning Activities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-proportions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Summary statistics for binary data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06.1-proportions-stata.html" class="sidebar-item-text sidebar-link"><strong>6</strong> Stata notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06.2-proportions-R.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Summary statistics for binary data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06.3-proportions-activities.html" class="sidebar-item-text sidebar-link"><strong>6</strong> Learning Activities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-testing-proportions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Hypothesis testing for categorical data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-correlation-and-regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Correlation and linear regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08.1-correlation-and-regression-stata.html" class="sidebar-item-text sidebar-link"><strong>8</strong> Stata notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08.2-correlation-and-regression-R.html" class="sidebar-item-text sidebar-link"><strong>8</strong> R notes</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08.3-correlation-and-regression-activities.html" class="sidebar-item-text sidebar-link"><strong>8</strong> Learning Activities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-non-parametrics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Analysing non-normal data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09.1-non-parametrics-stata.html" class="sidebar-item-text sidebar-link"><strong>9</strong> Stata resources</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09.2-non-parametrics-R.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Analysing non-normal data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09.3-non-parametrics-activities.html" class="sidebar-item-text sidebar-link"><strong>9</strong> Learning Activities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-sample-size.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Sample size estimation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10.1-sample-size-stata.html" class="sidebar-item-text sidebar-link"><strong>10</strong> Stata resources</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10.2-sample-size-R.html" class="sidebar-item-text sidebar-link"><strong>10</strong> R resources</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10.3-sample-size-activities.html" class="sidebar-item-text sidebar-link"><strong>10</strong> Learning Activities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-outcomes" id="toc-learning-outcomes" class="nav-link active" data-scroll-target="#learning-outcomes">Learning outcomes</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#part-1-a-simple-stata-analysis" id="toc-part-1-a-simple-stata-analysis" class="nav-link" data-scroll-target="#part-1-a-simple-stata-analysis">Part 1: A simple Stata analysis</a>
  <ul class="collapse">
  <li><a href="#the-stata-environment" id="toc-the-stata-environment" class="nav-link" data-scroll-target="#the-stata-environment">The Stata environment</a></li>
  </ul></li>
  <li><a href="#part-2-obtaining-basic-descriptive-statistics" id="toc-part-2-obtaining-basic-descriptive-statistics" class="nav-link" data-scroll-target="#part-2-obtaining-basic-descriptive-statistics">Part 2: Obtaining basic descriptive statistics</a>
  <ul class="collapse">
  <li><a href="#opening-a-stata-data-file" id="toc-opening-a-stata-data-file" class="nav-link" data-scroll-target="#opening-a-stata-data-file">Opening a Stata data file</a></li>
  <li><a href="#assigning-variable-labels" id="toc-assigning-variable-labels" class="nav-link" data-scroll-target="#assigning-variable-labels">Assigning variable labels</a></li>
  <li><a href="#summarising-continuous-variables" id="toc-summarising-continuous-variables" class="nav-link" data-scroll-target="#summarising-continuous-variables">Summarising continuous variables</a></li>
  <li><a href="#producing-a-histogram" id="toc-producing-a-histogram" class="nav-link" data-scroll-target="#producing-a-histogram">Producing a histogram</a></li>
  <li><a href="#producing-a-boxplot" id="toc-producing-a-boxplot" class="nav-link" data-scroll-target="#producing-a-boxplot">Producing a boxplot</a></li>
  <li><a href="#producing-a-one-way-frequency-table" id="toc-producing-a-one-way-frequency-table" class="nav-link" data-scroll-target="#producing-a-one-way-frequency-table">Producing a one-way frequency table</a></li>
  <li><a href="#assigning-value-labels-to-categorical-variables" id="toc-assigning-value-labels-to-categorical-variables" class="nav-link" data-scroll-target="#assigning-value-labels-to-categorical-variables">Assigning value labels to categorical variables</a></li>
  <li><a href="#producing-a-two-way-frequency-table" id="toc-producing-a-two-way-frequency-table" class="nav-link" data-scroll-target="#producing-a-two-way-frequency-table">Producing a two-way frequency table</a></li>
  <li><a href="#saving-data-from-stata" id="toc-saving-data-from-stata" class="nav-link" data-scroll-target="#saving-data-from-stata">Saving data from Stata</a></li>
  <li><a href="#copying-output-from-stata" id="toc-copying-output-from-stata" class="nav-link" data-scroll-target="#copying-output-from-stata">Copying output from Stata</a></li>
  </ul></li>
  <li><a href="#part-3-creating-other-types-of-graphs" id="toc-part-3-creating-other-types-of-graphs" class="nav-link" data-scroll-target="#part-3-creating-other-types-of-graphs">Part 3: Creating other types of graphs</a>
  <ul class="collapse">
  <li><a href="#bar-graphs" id="toc-bar-graphs" class="nav-link" data-scroll-target="#bar-graphs">Bar graphs</a></li>
  <li><a href="#submit-vs-ok-button" id="toc-submit-vs-ok-button" class="nav-link" data-scroll-target="#submit-vs-ok-button">Submit vs OK button</a></li>
  <li><a href="#clustered-bar-graph" id="toc-clustered-bar-graph" class="nav-link" data-scroll-target="#clustered-bar-graph">Clustered bar graph</a></li>
  <li><a href="#stacked-bar-graph" id="toc-stacked-bar-graph" class="nav-link" data-scroll-target="#stacked-bar-graph">Stacked bar graph</a></li>
  <li><a href="#stacked-bar-graph-of-relative-frequencies" id="toc-stacked-bar-graph-of-relative-frequencies" class="nav-link" data-scroll-target="#stacked-bar-graph-of-relative-frequencies">Stacked bar graph of relative frequencies</a></li>
  <li><a href="#editing-graphs-in-stata" id="toc-editing-graphs-in-stata" class="nav-link" data-scroll-target="#editing-graphs-in-stata">Editing graphs in Stata</a></li>
  <li><a href="#creating-line-graphs" id="toc-creating-line-graphs" class="nav-link" data-scroll-target="#creating-line-graphs">Creating line graphs</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><strong>1</strong> An introduction to Stata</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="learning-outcomes" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="learning-outcomes">Learning outcomes</h2>
<p>By the end of these notes, you will be able to:</p>
<ul>
<li>navigate the Stata interface</li>
<li>input and import data into Stata</li>
<li>use Stata menus to summarise data</li>
<li>perform basic data transformations</li>
<li>assign variable and value labels</li>
<li>understand the difference between saving data and saving Stata output</li>
<li>copy Stata output to a standard word processing package</li>
</ul>
</section>
<section id="introduction" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="introduction">Introduction</h2>
<p>Stata is a powerful statistical package that is relatively easy to use. It is commonly used in health research, as well as in other fields such as econometrics and social science. The aim of these notes is to introduce the Stata environment, and to introduce the commands and procedures that are directly relevant to this course. There is much more to Stata that we will cover in these notes, and more information will be provided throughout the course.</p>
</section>
<section id="part-1-a-simple-stata-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="part-1-a-simple-stata-analysis">Part 1: A simple Stata analysis</h2>
<p>In this very brief section, we will introduce Stata by calculating the average of six ages. If you are using Windows, open Stata by clicking: <strong>Start &gt; Stata 16 &gt; Stata SE</strong></p>
<p>If you are using MacOS, open Stata from the Applications folder. Note that while Stata is available for Windows and MacOS, most of the screenshots in these notes will be based on the Windows version.</p>
<p>When you first open Stata, it will look something like the following.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/simple-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Each Stata session has a number of windows, which we will discuss later. For now, look in the top row of icons and find the icons that look like two grids: one with a pencil, and one with a magnifying glass: <img src="img/mod01/stata/data-browser-icons.png" class="img-fluid">. Click the left icon, the one with the pencil. The following window will appear.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/simple-02.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>This window is known as the <strong>Data Editor</strong>, and is where data can be entered or changed. Enter the following six ages into Stata, starting at the top-left cell, by typing each number and then hitting Enter.</p>
<pre><code>20  25  23  29  21  27</code></pre>
<p>If you make a mistake, simply click the incorrect cell, and enter the correct value. Your screen should look like this:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/simple-03.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>There are two things to note here:</p>
<ol type="1">
<li>Data in Stata are entered down a column. In Stata, columns represent variables, and rows represent observations. So our six observations of age are entered in one column.</li>
<li>Stata has given the name of <code>var1</code> to our column of ages. We will fix this in a moment.</li>
</ol>
<p>Close the <strong>Data Editor</strong> window to return to the main Stata window. You will notice that the main Stata window now has some text that you might not understand. We will explain why shortly.</p>
<p>Let’s rename our variable from <code>var1</code> to <code>age</code>. There are a few ways you can do this in Stata, but one of the most convenient is to use the <strong>Variables Manager</strong> which can be accessed via <strong>Data &gt; Variables Manager</strong>:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/variables-manager-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>The <strong>Variables Manager</strong> is where you can change many variable properties, such as variable names or apply meaningful variable labels. Each variable is listed on a separate row, with aspects about each variable listed in the columns. To change the variable name, click <code>var1</code> in the <strong>Name</strong> column. Notice that information about that variable appears to the right of the window, in the <strong>Variable properties</strong> section.</p>
<p>In the <strong>Name</strong> section within <strong>Variable properties</strong>, click <code>var1</code> and replace it with <code>age</code>. Click <strong>Apply</strong> and notice that the variable’s name has been changed:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/variables-manager-02.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Close the <strong>Variables manager</strong> window.</p>
<p>Some important points about variable names in Stata: - any name you choose must be no more than 32 characters long; - variable names must contain only letters, numbers and the underscore (_); - variable names should start with a letter; - variable names are case-sensitive (so age, Age and AGE could represent three different variables)</p>
<p>Now that we have entered our six ages, let’s calculate the mean age. Choose <strong>Statistics &gt; Summaries, tables and tests &gt; Summary and descriptive statistics &gt; Summary statistics</strong>. The <strong>summarize</strong> dialog box will appear. From the <strong>Variables</strong> drop-down box, select <code>age</code> as below:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/simple-05.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Click <strong>OK</strong>, and the main Stata screen will appear as below.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/simple-06.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>The final text in the main window provides a summary of <code>age</code>: there are 6 observations, with a mean age of 24.2 years, a standard deviation of 3.49 years, a minimum of 20 and a maximum of 29 years.</p>
<section id="the-stata-environment" class="level3">
<h3 class="anchored" data-anchor-id="the-stata-environment">The Stata environment</h3>
<p>Now that we have seen a simple example of how to use Stata, let’s describe the Stata environment. The largest window in Stata is the <strong>Results</strong> window. This is where the results of your analyses appear, as well as any information, warnings or error messages. You may have noticed that the <strong>Results</strong> window also contains commands used to conduct analyses. For example, there is a command above summary output for age:</p>
<p><code>. summarize age</code></p>
<p>This command is generated by Stata based on the entries in the <strong>summarize</strong> dialog box. Stata is inherently a command-driven program: the menus and dialog boxes simply generate commands that Stata interprets, and these commands (and their results) are included in the Results window. While most menu items and dialog boxes can be replicated using commands, it is easier to learn Stata using the menus and dialog boxes. In later Modules, we will include the commands that can be used as alternatives to using the Stata menus.</p>
<p>The Stata windows are summarised below.</p>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Window</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Results</td>
<td>Shows your issued commands, results output (e.g.&nbsp;tables) and error messages or warnings.</td>
</tr>
<tr class="even">
<td>Command</td>
<td>Where you can type in a command you want to run. The command window need not be used in this course</td>
</tr>
<tr class="odd">
<td>Variables</td>
<td>Gives a list of the variables in your currently opened dataset.</td>
</tr>
<tr class="even">
<td>Properties</td>
<td>Shows the properties of your currently selected variable (selected from the Variables window) and of your currently opened dataset.</td>
</tr>
<tr class="odd">
<td>History</td>
<td>Shows the history of your issued commands in your current session.</td>
</tr>
<tr class="even">
<td>Data Editor (Edit)</td>
<td>A separate window that allows you to edit or enter data.</td>
</tr>
<tr class="odd">
<td>Data Editor (Browse)</td>
<td>A separate window that allows you to view data: data cannot be edited.</td>
</tr>
</tbody>
</table>
<p>Stata allows you to perform most of your work by selecting options from the appropriate menus at the top of the main Stata window. A brief description of the main menu bar options follows.</p>
<p><strong>File</strong> includes all the options you typically use in other programs, such as Open, Save, Exit. Note, that you can open or create various types of new files. The main type of file we open or create in this course is a Stata data file (.dta). In the Advanced Biostatistics and Statistical Computing course (PHCM9517), we will also use other file types such as a .do file for scripting (or writing) Stata commands.</p>
<p><strong>Edit</strong> includes the typical Copy, and Paste commands.</p>
<p><strong>Data</strong> allows you to open the <strong>Data Editor</strong>. You can also create new variables and change current variables using <strong>Data &gt; Create or change data</strong>.</p>
<p><strong>Graphics</strong> includes the commands to create various types of graphs including box plots, histograms, scatterplots, line graphs, and bar charts.</p>
<p><strong>Statistics</strong> includes all the commands to carry out statistical analyses and perform power and sample size calculations. Much of this course will focus on using commands located in this menu.</p>
<p><strong>User</strong> is for saved files from other windows (e.g.&nbsp;saved graphs). You will not need to use this option in this course.</p>
<p><strong>Window</strong> can be used to select which window you want to view (e.g.&nbsp;Results, Data Editor).</p>
<p><strong>Help</strong> has many useful options including the viewing the PDF documentation, a Search function and other resources for using Stata. We will also demonstrate how to use helpful resources later in this introductory manual. Another useful Stata resource is the video tutorials produced by Stata: https://www.stata.com/links/video-tutorials/</p>
</section>
</section>
<section id="part-2-obtaining-basic-descriptive-statistics" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="part-2-obtaining-basic-descriptive-statistics">Part 2: Obtaining basic descriptive statistics</h2>
<p>In this exercise, we will analyse data to complete a descriptive table from a research study. The data come from a study in primary biliary cirrhosis, a condition of the liver, from <span class="citation" data-cites="therneau_grambsch10">Therneau and Grambsch (<a href="references.html#ref-therneau_grambsch10" role="doc-biblioref">2010</a>)</span>, Modeling Survival Data: Extending the Cox Model. By the end of this exercise, we will have completed the following table.</p>
<div class="cell">
<div class="cell-output-display">

<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; width: 95%; margin-left: auto; margin-right: auto;  " id="tab:unnamed-chunk-9"><caption>Summary of 418 participants from the PBC study (Therneau and Grambsch, 2000)</caption>
<colgroup><col><col><col></colgroup><tbody><tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;">Characteristic</th><th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;"> </th><th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;">Summary</th></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Age (years)</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">Mean (SD) or Median [IQR]</td></tr>
<tr>
<td rowspan="2" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Sex</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Male</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Female</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">AST* (U/ml)</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">Mean (SD) or Median [IQR]</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Serum bilirubin</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">Mean (SD) or Median [IQR]</td></tr>
<tr>
<td rowspan="4" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Stage</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">I</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">II</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">III</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">IIIV</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td rowspan="3" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Vital status at study end</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Alive: no transplant</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Alive: transplant</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Deceased</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td colspan="3" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">* asparate aminotransferase</td></tr>
</tbody></table>

</div>
</div>
<p>This table is available in Table1.docx, saved on Moodle.</p>
<section id="opening-a-stata-data-file" class="level3">
<h3 class="anchored" data-anchor-id="opening-a-stata-data-file">Opening a Stata data file</h3>
<p>Typing data directly into Stata is not common; we usually open data that have been saved as a Stata data file, or import data that have been entered into another package. Here, we will open a dataset that has been stored as a Stata data file (which has the <code>.dta</code> suffix).</p>
<ol type="1">
<li>Locate the data set called <code>pbc.dta</code> on Moodle. Click the file to download it, and then save it in a folder you will be able to locate later - for example, your OneDrive folder. The description of this dataset (i.e.&nbsp;the metadata) have been saved as a plain text file: <code>pbc_info.txt</code></li>
<li>In Stata, choose <strong>File &gt; Open</strong>. Browse to where you stored the dataset and click <strong>Open</strong>.</li>
<li>You may get an error: “Data in memory have changed”. This means that you have not saved a copy of your current data, and by importing a new dataset, your changes will be lost. As Stata can only open one set of data at a time, you can choose to: Save your current data, Don’t Save your current data, or Cancel. We don’t need to save the data from our simple analysis (the six ages), so we can choose Don’t Save.</li>
</ol>
<p>After opening the data successfully, there will be 418 rows of data, and 20 variables. Examine the <code>pbc_info.txt</code> file for a description of each variable.</p>
</section>
<section id="assigning-variable-labels" class="level3">
<h3 class="anchored" data-anchor-id="assigning-variable-labels">Assigning variable labels</h3>
<p>As we saw earlier, Stata has specific rules about variable names. Variable labels can be used to obtain more descriptive output. For example, the variable entered as bili can be labelled “Serum bilirubin (mg/dl)”.</p>
<p>To apply a variable label, open the Variables Manager: <strong>Data &gt; Variables Manager</strong>. Here we can click the variable to be labelled, and enter the new variable label and click <strong>Apply</strong>:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/label-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>The variable label will now be used in place of the variable name in most output:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>. summarize bili, detail</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                   Serum <span class="fu">bilirubin</span> (mg<span class="sc">/</span>dl)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>      Percentiles      Smallest</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span>%           .<span class="dv">4</span>             .<span class="dv">3</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span>%           .<span class="dv">5</span>             .<span class="dv">3</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>%           .<span class="dv">6</span>             .<span class="dv">3</span>       Obs                 <span class="dv">418</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>%           .<span class="dv">8</span>             .<span class="dv">4</span>       Sum of Wgt.         <span class="dv">418</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="dv">50</span>%          <span class="fl">1.4</span>                      Mean           <span class="fl">3.220813</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                        Largest       Std. Dev.      <span class="fl">4.407506</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="dv">75</span>%          <span class="fl">3.4</span>           <span class="fl">22.5</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="dv">90</span>%          <span class="fl">8.1</span>           <span class="fl">24.5</span>       Variance       <span class="fl">19.42611</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="dv">95</span>%           <span class="dv">14</span>           <span class="fl">25.5</span>       Skewness       <span class="fl">2.707849</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="dv">99</span>%         <span class="fl">21.6</span>             <span class="dv">28</span>       Kurtosis       <span class="fl">10.95486</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>TASK:</strong> Assign meaningful variable labels to the variables used in Table 1.</p>
</section>
<section id="summarising-continuous-variables" class="level3">
<h3 class="anchored" data-anchor-id="summarising-continuous-variables">Summarising continuous variables</h3>
<p>As we saw in Part 1, continuous variables can be summarised using <strong>Statistics &gt; Summaries, tables and tests &gt; Summary and descriptive statistics &gt; Summary statistics</strong>. There are three continuous variables that we would like to summarise: age, AST and serum bilirubin. Each of these can be listed in the <strong>summarize</strong> dialog box, as shown below.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/summ-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>By default, the summarize command calculates the mean, standard deviation, minimum and maximum. We may be interested in obtaining the median and interquartile ranges, so we select the <strong>Display additional statistics</strong> option:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/summ-02.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Summary statistics are produced for each of the three variables. We will use describe the output for age:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/summ-03.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>The output for a detailed summary in Stata should be read as three separate columns. The right-most column lists the number of observations, the mean and standard deviation and other numeric statistics. The left-most column contains the Percentiles: median (50%), lower quartile (25%) and upper quartile (75%). The middle column lists the four smallest and four largest observations, so that we can assess whether the smallest and largest observations are plausible.</p>
<p>For each of our three continuous variables, we need to decide whether to present the mean and standard deviation, or the median and interquartile range. This decision can be made after examining a histogram and boxplot for each variable.</p>
</section>
<section id="producing-a-histogram" class="level3">
<h3 class="anchored" data-anchor-id="producing-a-histogram">Producing a histogram</h3>
<p>To produce a histogram, go to menu <strong>Graphics &gt; Histogram</strong>. Choose the variable to be plotted in the <strong>Variable</strong> box, and choose the <strong>Frequency</strong> radio button so that a frequency histogram is produced. Note that only one variable can be plotted at a time, so this procedure will need to be repeated for each continuous variable.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/hist-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>The default histogram for age appears below.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/hist-02.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Stata will automatically choose the number of bins and the width of each bin, however these decisions may not always produce the most optimal histogram. These options can be altered by defining either: the number of bins, or the bin width (but not both); and/or the lower limit of the first bin.</p>
<p>Looking at the command window, Stata has used the following parameters to define the histogram: bin=20, start=26.277892, width=2.6080767. This means that Stata has chosen 20 bins to represent the data, with the first bin starting at 26.2 years and each bin representing 2.6 years. A more easily read histogram might have a bin-width of 5, starting at 25 years of age, so that age categories represent 25 to less than 30, 30 to less than 35 etc, as defined below:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/hist-03.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>This results in a histogram with fewer bars and more sensible cut-points:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/hist-04.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="producing-a-boxplot" class="level3">
<h3 class="anchored" data-anchor-id="producing-a-boxplot">Producing a boxplot</h3>
<p>The boxplot dialog box is similar to the histogram dialog box. While it is possible to specify more than one variable to be plotted, this is not recommended when variables are measured on very different scales as all variables are plotted on a chart with the same scale.</p>
<p><strong>TASK:</strong> Obtain histograms and boxplots for age, AST and bilirubin. Based on these plots, decide whether the mean or the median is the appropriate summary to use for each variable. Transfer your summary statistics to Table 1.</p>
</section>
<section id="producing-a-one-way-frequency-table" class="level3">
<h3 class="anchored" data-anchor-id="producing-a-one-way-frequency-table">Producing a one-way frequency table</h3>
<p>We have three categorical variables to summarise in Table 1: sex, stage and vital status. These variables are best summarised using one-way frequency tables.</p>
<p>Choose <strong>Statistics &gt; Summaries, tables, and tests &gt; Frequency tables &gt; One-way table</strong>. Choose the variable to be summarised as the <strong>Categorical variable</strong>, and leave all other options unchanged:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/tab-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Click <strong>OK</strong> to obtain the following table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>        sex <span class="sc">|</span>      Freq.     Percent        Cum.</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="sc">------------+-----------------------------------</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>          <span class="dv">1</span> <span class="sc">|</span>         <span class="dv">44</span>       <span class="fl">10.53</span>       <span class="fl">10.53</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>          <span class="dv">2</span> <span class="sc">|</span>        <span class="dv">374</span>       <span class="fl">89.47</span>      <span class="fl">100.00</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="sc">------------+-----------------------------------</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      Total <span class="sc">|</span>        <span class="dv">418</span>      <span class="fl">100.00</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="assigning-value-labels-to-categorical-variables" class="level3">
<h3 class="anchored" data-anchor-id="assigning-value-labels-to-categorical-variables">Assigning value labels to categorical variables</h3>
<p>You will notice that the table above, in its current form, is uninterpretable as the 1 and 2 categories are not labelled. In this course, all variables including categorical variables are numerically coded. This is because “string” or “character” variables (e.g.&nbsp;entered as “male” or “female”) cannot be used in many of the analysis commands of Stata. Instead, we use numerical codes and assign labels to the categories.</p>
<p>There are two parts to applying value labels to categorical variables: 1) defining the labels, and 2) applying the labels to a variable. This may seem cumbersome, but there are times where we can apply value labels to a collection of variables (for example, multiple variables comprising yes/no categories, or Likert scales such as: strongly disagree, disagree, neutral, agree, strongly agree). Both parts can be done within the Variables Manager.</p>
<p><strong>Part 1:</strong> Defining the value labels</p>
<ol type="1">
<li>Open the Variables Manager: <strong>Data &gt; Variables Manager</strong> and select the variable you want to assign labels to (in this case, <code>sex</code>). You will see that the <strong>Value label</strong> in the <strong>Properties</strong> section is blank. To create a value label, click <strong>Manage</strong>.</li>
</ol>
<p>Alternatively, choose <strong>Data &gt; Data utilities &gt; Label utilities &gt; Manage value labels</strong>.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/value-labels-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>In the <strong>Manage value labels</strong> dialog box, click the <strong>Create label</strong> button.</p>
<ol start="2" type="1">
<li><p>In the next dialog box, enter a name for the value label such as <code>sex_label</code> in the <strong>Label name:</strong> box. You can use the same name of the variable for the label, or choose a different name. Note: as for variables, the value label name is case-sensitive.</p></li>
<li><p>Next, we specify what each category (i.e.&nbsp;1 and 2) represents. By checking the metadata document, we see that <code>1</code> represents “Male” and <code>2</code> represents “Female”. Type the number <code>1</code> in the <strong>Value:</strong> box and the word <code>Male</code> in the <strong>Label:</strong> box; then click the <strong>Add</strong> button. Then type the number <code>2</code> in the <strong>Value:</strong> box and the word <code>Female</code> in the <strong>Label:</strong> box; click the <strong>Add</strong> button again. The defined value labels for males and females should appear in the box on the left-hand side. When you are done, click the <strong>OK</strong> button.</p></li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/value-labels-02.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>You will be returned to the <strong>Manage value labels</strong> dialog box, which will now have a record for <code>sex_label</code>. By clicking the arrow next to the label name, you will see the codes that you have defined:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/value-labels-03.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>At this point, you can close the <strong>Manage value labels</strong> dialog box by clicking <strong>Close</strong>.</p>
<p><strong>Part 2:</strong> Applying the value labels to a variable</p>
<p>Now that the labels are defined, we need to attach them to the relevant variables. Within the Variables Manager, click the variable to be labelled (here, <code>sex</code>). The previously defined label can be assigned to this variable by clicking the <strong>Value label</strong> drop-down menu, and choosing the appropriate label (here, <code>sex_label</code>), and clicking <strong>Apply</strong>:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/value-labels-04-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Alternatively, go to <strong>Data &gt; Data utilities &gt; Label utilities &gt; Assign value label to variables</strong>. Select <code>sex</code> from the <strong>Variables:</strong> dropdown box, and select <code>sex_label</code> from the <strong>Value label:</strong> dropdown box. Click <strong>OK</strong>.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/value-labels-04.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>There are a number of ways that we can confirm that the labelling has been done correctly. One of the easiest ways is to use the <code>codebook</code> command to investigate the coding of sex: <strong>Data &gt; Describe data &gt; Describe data contents (codebook)</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>. codebook sex</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="sc">----------------------------------------------------------------------------------------</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sex</span>                                                                          (unlabeled)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="sc">----------------------------------------------------------------------------------------</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                  type<span class="sc">:</span>  <span class="fu">numeric</span> (long)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                 label<span class="sc">:</span>  sex_label</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>                 range<span class="sc">:</span>  [<span class="dv">1</span>,<span class="dv">2</span>]                        units<span class="sc">:</span>  <span class="dv">1</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>         unique values<span class="sc">:</span>  <span class="dv">2</span>                        missing .<span class="sc">:</span>  <span class="dv">0</span><span class="sc">/</span><span class="dv">418</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>            tabulation<span class="sc">:</span>  Freq.   Numeric  Label</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                            <span class="dv">44</span>         <span class="dv">1</span>  Male</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                           <span class="dv">374</span>         <span class="dv">2</span>  Female</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here we can see that the codes for male and female have been applied correctly. We can also examine the Data Browser and confirm that sex has been labelled.</p>
<p>Note: If you want to see the original coded values of the labelled groups in the Data Browser window, you can hide the value labels by choosing <strong>Tools &gt; Value labels &gt; Hide all value labels</strong> for Windows, or <strong>View &gt; Value labels &gt; Hide all value labels</strong> for Mac from the menu bar in the Data Browser window.</p>
<p><strong>TASK:</strong> create and apply value labels for Vital Status.</p>
<p>Now that our categorical variables are labelled, we can produce the one-way frequency tables. As before, choose <strong>Statistics &gt; Summaries, tables, and tests &gt; Frequency tables &gt; One-way table</strong>. Our newly labelled table for sex appears as below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>        sex <span class="sc">|</span>      Freq.     Percent        Cum.</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="sc">------------+-----------------------------------</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>       Male <span class="sc">|</span>         <span class="dv">44</span>       <span class="fl">10.53</span>       <span class="fl">10.53</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>     Female <span class="sc">|</span>        <span class="dv">374</span>       <span class="fl">89.47</span>      <span class="fl">100.00</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="sc">------------+-----------------------------------</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      Total <span class="sc">|</span>        <span class="dv">418</span>      <span class="fl">100.00</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>TASK:</strong> produce one-way frequency tables for the other categorical variables in Table 1 (stage and vital status).</p>
</section>
<section id="producing-a-two-way-frequency-table" class="level3">
<h3 class="anchored" data-anchor-id="producing-a-two-way-frequency-table">Producing a two-way frequency table</h3>
<p>To produce tables summarising two categorical variables, go to <strong>Statistics - Summaries, tables, and tests - Frequency tables - Two-way table with measures of association</strong>.</p>
<p>To produce a two-way table showing stage of disease by sex using the pbc.dta data, do the following. In the <strong>tabulate2 – two way table with measures of association dialog box</strong>, select the variable <code>sex</code> as the <strong>Row variable:</strong>, and <code>stage</code> as the <strong>Column variable:</strong> as shown below.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/mod01-twoway.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Click <strong>OK</strong> to obtain the output below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>. tabulate sex stage</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>           <span class="sc">|</span>                    stage</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>       sex <span class="sc">|</span>   Stage <span class="dv">1</span>    Stage <span class="dv">2</span>    Stage <span class="dv">3</span>    Stage <span class="dv">4</span> <span class="sc">|</span>     Total</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="sc">-----------+--------------------------------------------+----------</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      Male <span class="sc">|</span>         <span class="dv">3</span>          <span class="dv">8</span>         <span class="dv">16</span>         <span class="dv">17</span> <span class="sc">|</span>        <span class="dv">44</span> </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    Female <span class="sc">|</span>        <span class="dv">18</span>         <span class="dv">84</span>        <span class="dv">139</span>        <span class="dv">127</span> <span class="sc">|</span>       <span class="dv">368</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="sc">-----------+--------------------------------------------+----------</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>     Total <span class="sc">|</span>        <span class="dv">21</span>         <span class="dv">92</span>        <span class="dv">155</span>        <span class="dv">144</span> <span class="sc">|</span>       <span class="dv">412</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You may notice in the above that the number of observations is now 412. This is because there are missing observations for either sex or stage: which is it, and how would you determine this?</p>
<p>From the cross-tabulation, you can see the individual frequencies of participants in each of the categories in each cell. For example, there are 3 male participants who have Stage 1 disease. You can also read the totals for each row and column. For example, there are 44 males, and 144 participants have Stage 4 disease.</p>
<p>You can also add percentages into your table. For example, in the <strong>tabulate2 – two way table with measures of association</strong> dialog box tick the box <strong>Within-column relative frequencies</strong> for separate percentages of sex within each stage.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>. tabulate sex stage, column</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+-------------------+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> Key               <span class="sc">|</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="er">|</span><span class="sc">-------------------</span><span class="er">|</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="er">|</span>     frequency     <span class="sc">|</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> column percentage <span class="sc">|</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+-------------------+</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>           <span class="er">|</span>                    stage</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>       sex <span class="sc">|</span>   Stage <span class="dv">1</span>    Stage <span class="dv">2</span>    Stage <span class="dv">3</span>    Stage <span class="dv">4</span> <span class="sc">|</span>     Total</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="sc">-----------+--------------------------------------------+----------</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>      Male <span class="sc">|</span>         <span class="dv">3</span>          <span class="dv">8</span>         <span class="dv">16</span>         <span class="dv">17</span> <span class="sc">|</span>        <span class="dv">44</span> </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>           <span class="sc">|</span>     <span class="fl">14.29</span>       <span class="fl">8.70</span>      <span class="fl">10.32</span>      <span class="fl">11.81</span> <span class="sc">|</span>     <span class="fl">10.68</span> </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="sc">-----------+--------------------------------------------+----------</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    Female <span class="sc">|</span>        <span class="dv">18</span>         <span class="dv">84</span>        <span class="dv">139</span>        <span class="dv">127</span> <span class="sc">|</span>       <span class="dv">368</span> </span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>           <span class="sc">|</span>     <span class="fl">85.71</span>      <span class="fl">91.30</span>      <span class="fl">89.68</span>      <span class="fl">88.19</span> <span class="sc">|</span>     <span class="fl">89.32</span> </span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="sc">-----------+--------------------------------------------+----------</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>     Total <span class="sc">|</span>        <span class="dv">21</span>         <span class="dv">92</span>        <span class="dv">155</span>        <span class="dv">144</span> <span class="sc">|</span>       <span class="dv">412</span> </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>           <span class="sc">|</span>    <span class="fl">100.00</span>     <span class="fl">100.00</span>     <span class="fl">100.00</span>     <span class="fl">100.00</span> <span class="sc">|</span>    <span class="fl">100.00</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can see that the 3 male participants with Stage 1 disease made up 14% of those with Stage 1 disease.</p>
</section>
<section id="saving-data-from-stata" class="level3">
<h3 class="anchored" data-anchor-id="saving-data-from-stata">Saving data from Stata</h3>
<p>Now that you have made some changes to the pbc data, it is good practice to save the dataset. Stata uses its own file format to save data. Data saved from Stata will end with the .dta suffix, and will contain useful information such as variable labels and value labels, as well as any new variables created. However, data saved by Stata will only be able to be opened by Stata - you will not easily be able to share your data with colleagues who do not have Stata. To save a Stata dataset, choose <strong>File &gt; Save</strong>.</p>
<p>If you want to share data with colleagues who do not have Stata, you can use <strong>File &gt; Export</strong> to save your data in another file format (recognising that variable and value labels will not be exported.)</p>
</section>
<section id="copying-output-from-stata" class="level3">
<h3 class="anchored" data-anchor-id="copying-output-from-stata">Copying output from Stata</h3>
<p>It is important to note that <em>saving data in Stata will not save your output</em>. Stata data and output are completely separate to one another. The easiest way to retain the output of your analyses is to copy the output into a word processor package (e.g.&nbsp;Microsoft Word) before closing Stata. Once Stata is closed, all the output (that is, all your hard work!) is lost.</p>
<p>To copy output from Stata, you can select the output and choose <strong>Edit &gt; Copy</strong>. This will copy the output as plain text for pasting into a Word document. If you select a single table for copying, you can also <strong>Copy table</strong> or <strong>Copy table as HTML</strong>. Whichever way you copy output into Word, you will need to make sure you reformat the table and relabel your header row and column properly for your assignments as described in Module 1. Alternatively, you can copy with the Copy table option for pasting into an Excel worksheet and reformat your table in Excel before pasting into Word.</p>
<p>Copying output from Stata can get a little complicated to explain. We have included a video on Moodle to summarise the different ways output can be copied.</p>
<p><strong>TASK:</strong> complete Table 1 using the output generated in this exercise. You should decide on whether to present continuous variables by their means or medians, and present the most appropriate measure of spread. Include footnotes to indicate if any variables contain missing observations.</p>
</section>
</section>
<section id="part-3-creating-other-types-of-graphs" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="part-3-creating-other-types-of-graphs">Part 3: Creating other types of graphs</h2>
<section id="bar-graphs" class="level3">
<h3 class="anchored" data-anchor-id="bar-graphs">Bar graphs</h3>
<p>Here we will create the bar chart shown in Figure @ref(fig:fig-1-1) using the <code>pbc.dta</code> dataset. The x-axis of this graph will be the stage of disease, and the y-axis will show the number of participants in each category.</p>
<p>To create a Bar chart, go to the Stata menu Graphics &gt; Bar chart and the bar-chart dialog box will appear.</p>
<section id="simple-bar-graph" class="level4">
<h4 class="anchored" data-anchor-id="simple-bar-graph">Simple bar graph</h4>
<p>For most of our bar graphs, we will be plotting frequencies, so we choose <strong>Graph of frequencies within categories</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>For a simple bar graph, go to the <strong>Categories</strong> tab, tick the <strong>Group 1</strong> box and choose <code>stage</code> as your first grouping variable:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-02.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Click the <strong>Y axis</strong> tab to include a more meaningful label for the y axis:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-03.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Click <strong>Submit</strong> or <strong>OK</strong>, and the following graph will appear:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-04.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Note: Value labels have been assigned to stage to create more meaningful output, and bar colours have been changed to allow for grey-scale printing.</p>
</section>
</section>
<section id="submit-vs-ok-button" class="level3">
<h3 class="anchored" data-anchor-id="submit-vs-ok-button">Submit vs OK button</h3>
<p>You may note that most dialog boxes in Stata have two choices: the <strong>Submit</strong> button, and the <strong>OK</strong> button. Both buttons will submit the command to be run, and both will produce a graph. The <strong>Submit</strong> button will submit the command but leave the dialog box open, while the <strong>OK</strong> button will submit the command and close the dialog box. Given the building a graph often involves many incremental changes, the <strong>Submit</strong> button is a useful option.</p>
</section>
<section id="clustered-bar-graph" class="level3">
<h3 class="anchored" data-anchor-id="clustered-bar-graph">Clustered bar graph</h3>
<p>To create a clustered bar chart as shown in Figure @ref(fig:fig-1-2), go to: <strong>Graphics &gt; Bar chart</strong> again. With the previous settings in place (i.e.&nbsp;stage as grouping variable and with appropriate axes labels), now choose <code>sex</code> as the <strong>Group 1</strong> variable, and tick <strong>Group 2</strong> and choose <code>stage</code> as the second grouping variable.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-05.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>In the <strong>Options</strong> tab, tick <strong>Treat first category grouping as y variables</strong>. When you are done, click <strong>OK</strong> or <strong>Submit</strong>.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-06.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-07.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>In a clustered bar chart, the <strong>Group 2</strong> variable is the main variable grouping (here, <code>stage</code>), and each of the <strong>Group 2</strong> categories is split by the <strong>Group 1</strong> variable (here, <code>sex</code>).</p>
</section>
<section id="stacked-bar-graph" class="level3">
<h3 class="anchored" data-anchor-id="stacked-bar-graph">Stacked bar graph</h3>
<p>To create a stacked bar chart shown in Figure @ref(fig:fig-1-3), bring up the <strong>Bar chart</strong> dialog box, go to the <strong>Options</strong> tab and tick <strong>Stack bars on y variables</strong>.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-08.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-10.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="stacked-bar-graph-of-relative-frequencies" class="level3">
<h3 class="anchored" data-anchor-id="stacked-bar-graph-of-relative-frequencies">Stacked bar graph of relative frequencies</h3>
<p>If one wants to compare the sex distribution across the stage categories, it would be convenient if all the bars have the same height (100%). To generate such a bar chart in Stata, tick <strong>Base bar heights on percentages</strong> in the <strong>Options</strong> tab of the <strong>Bar charts</strong> dialog box. Change the y-axis title in the <strong>Y axis</strong> tab to <code>Percentage of students in each age group</code>.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-11.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/bar-12.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="editing-graphs-in-stata" class="level3">
<h3 class="anchored" data-anchor-id="editing-graphs-in-stata">Editing graphs in Stata</h3>
<p>There are two main approaches of editing many aspects of a graph (such as colours, labels, font-size etc). The first approach is to use options within the dialog boxes. For example, if we wanted to use a grey-and-white colour scheme for Figure X, we can define the colours of the bars in the Bars tab of the bar chart dialog box.</p>
<p>Here, we will define Bar 1 to be <code>White</code>:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/edit-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/edit-02.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Bar 2 can be defined to be <code>Gray</code>, resulting in the graph below:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/edit-03.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>The second approach to customising graphs is to use the <strong>Graph Editor</strong>. Each Stata graph window includes a Graph Editor button:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/edit-04.png" class="img-fluid figure-img" style="width:75.0%"></p>
<p></p><figcaption class="figure-caption">Graph editor button on Stata for Windows</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/edit-05.png" class="img-fluid figure-img" style="width:75.0%"></p>
<p></p><figcaption class="figure-caption">Graph editor button on Stata for MacOS</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The <strong>Graph Editor</strong> window comprises two main sections: the graph that can be edited on the left, and a list of elements of the graph on the right. Most aspects of a graph’s appearance can be edited in the Graph Editor, usually by double-clicking an element (e.g.&nbsp;a bar, or a bar segment) and changing its properties. There are too many ways to change a graph’s appearance to document here: feel free to explore and experiment!</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/edit-06.png" class="img-fluid figure-img" style="width:75.0%"></p>
<p></p><figcaption class="figure-caption">Graph editor window: Windows</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/edit-07.png" class="img-fluid figure-img" style="width:75.0%"></p>
<p></p><figcaption class="figure-caption">Graph editor window: MacOS</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>When you are done editing in the Graph Editor, click the Graph Editor icon again to stop the Graph Editor. You will be prompted to save your graph. You can click the <strong>Save</strong> button, choose <strong>Save as</strong> and choose to save using the <strong>PNG (*.png)</strong> format. You can then insert your saved PNG file into your word processing package as usual.</p>
</section>
<section id="creating-line-graphs" class="level3">
<h3 class="anchored" data-anchor-id="creating-line-graphs">Creating line graphs</h3>
<p>To demonstrate the graphing of aggregate data with Stata, we use the data on new cases and deaths from prostate cancer in males in NSW. This data has been entered into Stata as <code>Example_1.2.dta</code>.</p>
<p>If you look at the data in the <strong>Data Editor</strong> window, you will see that there are 20 rows - a row for each year of data. Each row contains the number of new cases (<code>NCases</code>), number of deaths (<code>NDeaths</code>), the incidence rate (<code>RCases</code>) and death rate (<code>RDeaths</code>).</p>
<p>To create a line graph as in Figure @ref(fig:fig-1-5) select <strong>Graphics &gt; Twoway graph (scatter, line, etc.)</strong> and click the <strong>Create…</strong> button in the <strong>twoway – Twoway graphs</strong> dialog box to bring up a dialog box for defining Plot 1.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-01.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Choose <strong>Line</strong> as the plot type, <code>rcases</code> as the <strong>Y variable</strong> and <code>year</code> as the <strong>X variable</strong> as shown below.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-02.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Click <strong>Accept</strong>, and then click <strong>Submit</strong> to check how the graph looks.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-03.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>This looks ok, but we want to add the death rate to the plot. Click <strong>Create…</strong> again and add a Plot 2 for mortality rate:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-03-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Choose <strong>Line</strong> as the plot type again, <code>rdeaths</code> as the <strong>Y</strong> variable and <code>year</code> as the <strong>X variable</strong>. Click <strong>Accept</strong>, and then <strong>Submit</strong> to check how the graph looks like now. You should see both variables plotted:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-04.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>To change the format of either line, click the relevant plot definition in the main <strong>twoway</strong> dialog box and click <strong>Edit</strong>. Click the <strong>Line properties</strong> button and choose a <strong>Pattern</strong> (e.g.&nbsp;Short-dash), then click <strong>Submit</strong> again.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-05.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-06.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-07.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-08.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>Next, we need an appropriate label for the y-axis. In the main <strong>twoway</strong> dialog box, click on the <strong>Y axis</strong> tab and label the title appropriately (e.g.&nbsp;<code>Age-standardardised rate</code> and then click <strong>OK</strong> or <strong>Submit</strong>. The graph below should be produced.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/mod01/stata/line-09.png" class="img-fluid figure-img" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
<p>[Command: <code>twoway (line rcases year) (line rdeaths year, lpattern(shortdash)), ytitle(Age-standardised rate)</code>]</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-therneau_grambsch10" class="csl-entry" role="doc-biblioentry">
Therneau, Terry M., and Patricia M. Grambsch. 2010. <em>Modeling <span>Survival Data</span>: <span>Extending</span> the <span>Cox Model</span></em>. <span>New York Berlin Heidelberg</span>: <span>Springer</span>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./01-intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to statistics and presenting data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./01.2-intro-R.html" class="pagination-link">
        <span class="nav-page-text"><strong>1</strong> An introduction to R and RStudio</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>